@model LocadoraDeVeiculos.Dominio.Funcionario

@{
    ViewBag.Title = "Editar";
    Layout = "~/Views/Shared/_ViewAdministrativa.cshtml";
}
@if (Session["usuarioLogado"] != null && (Session["nivel"].ToString() == "3"))
{
    <h2>Funcionario</h2>


    using (Html.BeginForm())
    {
        @Html.AntiForgeryToken()
        <hr />
        <br />
        <h4>Informações</h4>
        <div class="form text-center" style="margin:5% ;">
            <div class="form-group btn take-fundo btn-block" onclick="habilitar()">Editar</div><br />
            @Html.ValidationSummary(true, "", new { @class = "text-danger" })
            @Html.HiddenFor(model => model.id)
            <table style="width:100%">
                <tr>
                    <td>
                        <div class="form-group">
                            @Html.LabelFor(model => model.Nome, htmlAttributes: new { @class = "control-label col-md-2" })
                            <div class="col-md-10">
                                @Html.EditorFor(model => model.Nome, new { htmlAttributes = new { disabled = true, @class = "form-control", id = string.Format("nome") } })
                                @Html.ValidationMessageFor(model => model.Nome, "", new { @class = "text-danger" })
                            </div>
                        </div>
                    </td>
                    <td>
                        <div class="form-group">
                            @Html.LabelFor(model => model.Login, htmlAttributes: new { @class = "control-label col-md-2" })
                            <div class="col-md-10">
                                @Html.EditorFor(model => model.Login, new { htmlAttributes = new { disabled = true, @class = "form-control", id = string.Format("login") } })
                                @Html.ValidationMessageFor(model => model.Login, "", new { @class = "text-danger" })
                            </div>
                        </div>
                    </td>
                    <td>
                        <div class="form-group">
                            @Html.LabelFor(model => model.Cpf, htmlAttributes: new { @class = "control-label col-md-2" })
                            <div class="col-md-10">
                                @Html.EditorFor(model => model.Cpf, new { htmlAttributes = new { disabled = true, @class = "form-control", id = string.Format("cpf") } })
                                @Html.ValidationMessageFor(model => model.Cpf, "", new { @class = "text-danger" })
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="form-group">
                            @Html.LabelFor(model => model.Email, htmlAttributes: new { @class = "control-label col-md-2" })
                            <div class="col-md-10">
                                @Html.EditorFor(model => model.Email, new { htmlAttributes = new { disabled = true, @class = "form-control", id = string.Format("email") } })
                                @Html.ValidationMessageFor(model => model.Email, "", new { @class = "text-danger" })
                            </div>
                        </div>
                    </td>
                    <td>
                        <div class="form-group">
                            @Html.LabelFor(model => model.Sexo, htmlAttributes: new { @class = "control-label col-md-2" })
                            <div class="col-md-10">
                                <select id="sexo" name="sexo" class="form-control" disabled>
                                    <option selected value=@Model.Sexo>@Model.Sexo</option>
                                    <option value="Masculino">Masculino</option>
                                    <option value="Feminino">Feminino</option>
                                    <option value="Indefinido">Prefiro não dizer</option>
                                </select>
                                @Html.ValidationMessageFor(model => model.Sexo, "", new { @class = "text-danger", id = string.Format("sexo") })
                            </div>
                        </div>
                    </td>
                    <td>
                        <div class="form-group">
                            @Html.LabelFor(model => model.Nivel, htmlAttributes: new { @class = "control-label col-md-10" })
                            <div class="col-md-10">
                                <select id="nivel" name="nivel" class="form-control" disabled>
                                    <option selected value=@Model.Nivel>@Model.Nivel</option>
                                    <option value=2>Atendente</option>
                                    <option value=3>Administrador</option>
                                </select>
                                @Html.ValidationMessageFor(model => model.Nivel, "", new { @class = "text-danger" })
                            </div>
                        </div>
                    </td>
                </tr>
            </table>
            <input class="btn take-fundo btn-block" type="submit" value="Salvar" style="float:right" />
            <a class="btn take-fundo btn-lg" href="~/Funcionario/Lista" style="float:left">
                <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-arrow-left-circle" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                    <path fill-rule="evenodd" d="M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z" />
                    <path fill-rule="evenodd" d="M8.354 11.354a.5.5 0 0 0 0-.708L5.707 8l2.647-2.646a.5.5 0 1 0-.708-.708l-3 3a.5.5 0 0 0 0 .708l3 3a.5.5 0 0 0 .708 0z" />
                    <path fill-rule="evenodd" d="M11.5 8a.5.5 0 0 0-.5-.5H6a.5.5 0 0 0 0 1h5a.5.5 0 0 0 .5-.5z" />
                </svg>
            </a>
        </div>
        <br />
    }
}
else
{
<h3 class="jumbotron text-center" style="color:red ">
    <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-x-octagon-fill" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
        <path fill-rule="evenodd" d="M11.46.146A.5.5 0 0 0 11.107 0H4.893a.5.5 0 0 0-.353.146L.146 4.54A.5.5 0 0 0 0 4.893v6.214a.5.5 0 0 0 .146.353l4.394 4.394a.5.5 0 0 0 .353.146h6.214a.5.5 0 0 0 .353-.146l4.394-4.394a.5.5 0 0 0 .146-.353V4.893a.5.5 0 0 0-.146-.353L11.46.146zm.394 4.708a.5.5 0 0 0-.708-.708L8 7.293 4.854 4.146a.5.5 0 1 0-.708.708L7.293 8l-3.147 3.146a.5.5 0 0 0 .708.708L8 8.707l3.146 3.147a.5.5 0 0 0 .708-.708L8.707 8l3.147-3.146z" />
    </svg><br />Sem permissão</h3>

}

<br />
<br />
<br />

@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")
    <script>
        $(document).ready(function () {
            $("#telefone").inputmask("mask", { "mask": "(99) 9999-99999" });
            $("#cpf").inputmask("mask", { "mask": "999.999.999-99" }, { reverse: true });
            $("#cep").inputmask("mask", { "mask": "99999-999" });
            $("#cnh").inputmask("mask", { "mask": "99999999999" });
            $("#preco").inputmask("mask", { "mask": "999.999,99" }, { reverse: true });
            $("#valor").inputmask("mask", { "mask": "#.##9,99" }, { reverse: true });
            $("#ip").inputmask("mask", { "mask": "999.999.999.999" });
        });
        function habilitar() {
            document.getElementById("cpf").disabled = false;
            document.getElementById("nome").disabled = false;
            document.getElementById("email").disabled = false;
            document.getElementById("sexo").disabled = false;
            document.getElementById("login").disabled = false;
            document.getElementById("nivel").disabled = false;
        };
    </script>
}
